<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0b0f1a" />
  <title>VIBE 24 ‚Ä¢ Online Radio</title>
  <style>
    :root{
      --bg:#060814;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.12);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --stroke: rgba(255,255,255,.16);
      --shadow: 0 24px 80px rgba(0,0,0,.55);
      --radius: 22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Thai", sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 10% 10%, rgba(140, 80, 255,.35), transparent 60%),
        radial-gradient(1000px 700px at 90% 20%, rgba(0, 240, 255,.22), transparent 55%),
        radial-gradient(900px 700px at 50% 100%, rgba(255, 0, 160,.18), transparent 55%),
        var(--bg);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px 16px;
    }
    .app{
      width:min(980px, 100%);
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:18px;
    }
    @media (max-width: 860px){
      .app{grid-template-columns:1fr}
    }
    .card{
      background: linear-gradient(180deg, var(--card2), var(--card));
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .header{
      display:flex;
      align-items:center;
      gap:14px;
      padding:18px 18px 12px;
    }
    .logo{
      width:56px;height:56px;border-radius:16px;
      background: rgba(255,255,255,.10);
      border:1px solid var(--stroke);
      display:grid;place-items:center;
      overflow:hidden;
      flex:0 0 auto;
    }
    .logo img{width:100%;height:100%;object-fit:cover}
    .brand h1{
      margin:0;
      font-size:20px;
      letter-spacing:.3px;
      line-height:1.2;
    }
    .brand p{
      margin:6px 0 0;
      color: var(--muted);
      font-size:13px;
    }
    .main{
      padding: 0 18px 18px;
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    .player{
      display:flex;
      gap:14px;
      align-items:center;
      padding:14px;
      border-radius: 18px;
      background: rgba(0,0,0,.18);
      border: 1px solid var(--stroke);
    }
    .artwrap{
      width:88px;height:88px;border-radius:18px;
      overflow:hidden;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      flex:0 0 auto;
      display:grid;place-items:center;
      position:relative;
    }
    /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ artwork.js ‡∏ó‡∏µ‡πà inject <img> fit ‡∏™‡∏ß‡∏¢‡πÜ */
    .artwrap img{width:100%;height:100%;object-fit:cover;display:block}
    .artwrap::after{
      content:"";
      position:absolute;inset:0;
      background: radial-gradient(120px 120px at 30% 10%, rgba(255,255,255,.18), transparent 60%);
      pointer-events:none;
    }

    .meta{flex:1; min-width: 0;}
    .label{font-size:12px;color:var(--muted); margin-bottom:6px}
    .track{
      font-weight:700;
      font-size:16px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      margin:0;
    }
    .next{
      margin-top:8px;
      font-size:13px;
      color: var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .controls{
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:flex-end;
      flex:0 0 auto;
    }
    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.10);
      color: var(--text);
      border-radius: 16px;
      padding: 12px 14px;
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:700;
      letter-spacing:.2px;
      transition: transform .08s ease, background .2s ease, border-color .2s ease;
      user-select:none;
    }
    .btn:hover{background: rgba(255,255,255,.14); border-color: rgba(255,255,255,.30)}
    .btn:active{transform: translateY(1px)}
    .pill{
      font-size:12px;
      color: var(--muted);
      padding: 8px 10px;
      border:1px solid var(--stroke);
      border-radius: 999px;
      background: rgba(0,0,0,.18);
    }
    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 560px){
      .grid2{grid-template-columns:1fr}
      .player{align-items:flex-start}
      .controls{align-items:stretch}
      .btn{justify-content:center}
    }
    .panel{
      padding:14px;
      border-radius: 18px;
      background: rgba(0,0,0,.18);
      border: 1px solid var(--stroke);
    }
    .panel h2{
      margin:0 0 10px;
      font-size:14px;
      letter-spacing:.2px;
    }
    .hint{color:var(--muted); font-size:12px; margin:0}
    .statusRow{
      margin-top:10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .small{font-size:12px; color: var(--muted)}
    .rightCard{
      padding:18px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .hero{
      padding:16px;
      border-radius: 18px;
      border:1px solid var(--stroke);
      background:
        radial-gradient(420px 220px at 20% 10%, rgba(0,240,255,.20), transparent 60%),
        radial-gradient(420px 260px at 90% 40%, rgba(140,80,255,.18), transparent 60%),
        rgba(0,0,0,.18);
    }
    .heroTitle{margin:0; font-size:18px}
    .heroDesc{margin:8px 0 0; color:var(--muted); font-size:13px; line-height:1.5}
    .embedWrap{
      border-radius: 18px;
      overflow:hidden;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.18);
      min-height: 220px;
    }
    iframe{width:100%; height:260px; border:0; display:block}
    .footer{
      margin-top:auto;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      color: var(--muted);
      font-size:12px;
      padding:0 4px;
      flex-wrap:wrap;
    }
    a{color: rgba(255,255,255,.82)}
  </style>
</head>

<body>
  <div class="app">
    <!-- LEFT: Player -->
    <section class="card">
      <div class="header">
        <div class="logo">
          <img src="https://img2.pic.in.th/1000074512.png" alt="VIBE 24 ‡πÇ‡∏•‡πÇ‡∏Å‡πâ">
        </div>
        <div class="brand">
          <h1>VIBE 24</h1>
          <p>‡∏ü‡∏±‡∏á‡∏™‡∏î ‚Ä¢ ‡πÄ‡∏û‡∏•‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‚Ä¢ ‡πÄ‡∏û‡∏•‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</p>
        </div>
      </div>

      <div class="main">
        <div class="player">
          <div class="artwrap" id="artworkBox">
            <!-- (1) Artwork ‡∏à‡∏≤‡∏Å script ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡∏°‡∏≤ -->
            <script src="https://embed.radio.co/embed/sbf4f79825/artwork.js"></script>
          </div>

          <div class="meta">
            <div class="label">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏¢‡∏π‡πà</div>

            <!-- (2) Current song title ‡∏à‡∏≤‡∏Å script ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡∏°‡∏≤ -->
            <p class="track" id="currentSong">
              <span id="songScriptMount">
                <script src="https://embed.radio.co/embed/sbf4f79825/song.js"></script>
              </span>
            </p>

            <div class="next" id="nextSong">
              <span class="small">‡πÄ‡∏û‡∏•‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: </span>
              <span id="nextScriptMount">
                <script src="https://embed.radio.co/embed/sbf4f79825/next.js"></script>
              </span>
            </div>
          </div>

          <div class="controls">
            <button class="btn" id="playBtn" type="button" aria-label="‡πÄ‡∏•‡πà‡∏ô/‡∏´‡∏¢‡∏∏‡∏î">
              <span id="btnIcon">‚ñ∂</span>
              <span id="btnText">‡πÄ‡∏•‡πà‡∏ô</span>
            </button>
            <div class="pill" id="livePill">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‚Ä¶</div>
          </div>
        </div>

        <div class="grid2">
          <div class="panel">
            <h2>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
            <p class="hint">
              ‡∏Å‡∏î ‚Äú‡πÄ‡∏•‡πà‡∏ô‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ü‡∏±‡∏á‡∏™‡∏î (‡πÄ‡∏ß‡πá‡∏ö‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏î‡∏∂‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏ï‡∏£‡∏µ‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Radio.co)
              ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á/‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
            </p>
          </div>

          <div class="panel">
            <h2>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</h2>
            <p class="hint">
              ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏•‡∏á/‡∏õ‡∏Å‡πÄ‡∏û‡∏•‡∏á/‡πÄ‡∏û‡∏•‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡πÉ‡∏ä‡πâ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
              ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö audio ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö (‡∏°‡∏µ fallback ‡πÄ‡∏õ‡πá‡∏ô player ‡πÅ‡∏ö‡∏ö iframe)
            </p>
          </div>
        </div>

        <div class="panel">
          <h2>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</h2>
          <div class="statusRow">
            <div class="small" id="streamInfo">Stream: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏î‡∏∂‡∏á</div>
            <div class="small" id="lastUpdate">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: -</div>
          </div>
        </div>
      </div>
    </section>

    <!-- RIGHT: Info + Fallback Embed -->
    <aside class="card rightCard">
      <div class="hero">
        <p class="heroTitle">üéß Welcome to VIBE 24</p>
        <p class="heroDesc">
          ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏≤‡∏á‡∏ö‡∏ô‡πÇ‡∏Æ‡∏™‡∏ï‡πå‡∏ü‡∏£‡∏µ/‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ (‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö)
          ‡∏ñ‡πâ‡∏≤‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏à‡∏∞‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏ü‡∏±‡∏á‡πÑ‡∏î‡πâ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô
        </p>
      </div>

      <div class="embedWrap" id="fallbackWrap" style="display:none">
        <!-- Fallback player (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏™‡∏ï‡∏£‡∏µ‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ) -->
        <iframe
          title="VIBE 24 Player"
          src="https://embed.radio.co/player/sbf4f79825.html">
        </iframe>
      </div>

      <div class="footer">
        <span>¬© <span id="year"></span> VIBE 24</span>
        <span>Made with ‚ù§Ô∏è</span>
      </div>
    </aside>
  </div>

  <audio id="audio" preload="none" crossorigin="anonymous"></audio>

  <script>
    const STATION_ID = "sbf4f79825";
    const statusUrl = `https://public.radio.co/stations/${STATION_ID}/status`;

    const audio = document.getElementById("audio");
    const playBtn = document.getElementById("playBtn");
    const btnIcon = document.getElementById("btnIcon");
    const btnText = document.getElementById("btnText");
    const livePill = document.getElementById("livePill");
    const streamInfo = document.getElementById("streamInfo");
    const lastUpdate = document.getElementById("lastUpdate");
    const fallbackWrap = document.getElementById("fallbackWrap");

    document.getElementById("year").textContent = new Date().getFullYear();

    let streamUrl = null;
    let isReady = false;

    function setPill(text){ livePill.textContent = "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: " + text; }
    function setBtn(playing){
      btnIcon.textContent = playing ? "‚è∏" : "‚ñ∂";
      btnText.textContent = playing ? "‡∏´‡∏¢‡∏∏‡∏î" : "‡πÄ‡∏•‡πà‡∏ô";
    }

    async function fetchStatus(){
      // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ï‡∏£‡∏µ‡∏°‡∏à‡∏≤‡∏Å Radio.co
      const res = await fetch(statusUrl, { cache: "no-store" });
      if(!res.ok) throw new Error("status not ok");
      const data = await res.json();

      // ‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏à‡πâ‡∏≤‡∏à‡∏∞‡∏™‡πà‡∏á stream_host ‡∏´‡∏£‡∏∑‡∏≠ streaming_host (‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡πÑ‡∏ß‡πâ)
      const host = data.stream_host || data.streaming_host || data.streamHost;
      if(!host) throw new Error("no stream_host");

      streamUrl = `https://${host}/${STATION_ID}/listen`;
      streamInfo.textContent = "Stream: " + streamUrl;
      lastUpdate.textContent = "‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: " + new Date().toLocaleString("th-TH");
      isReady = true;
      setPill("‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡πà‡∏ô");
      return data;
    }

    async function ensureStream(){
      if(isReady && streamUrl) return;
      setPill("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏ï‡∏£‡∏µ‡∏°‚Ä¶");
      try{
        await fetchStatus();
        // ‡∏ï‡∏±‡πâ‡∏á src ‡πÉ‡∏´‡πâ audio
        audio.src = streamUrl;
      }catch(err){
        // ‡∏ñ‡πâ‡∏≤‡∏î‡∏∂‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î fallback iframe
        console.warn(err);
        setPill("‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏≥‡∏£‡∏≠‡∏á (Player)");
        fallbackWrap.style.display = "block";
        // ‡∏¢‡∏±‡∏á‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ú‡πà‡∏≤‡∏ô audio ‡πÑ‡∏î‡πâ (‡∏ö‡∏≤‡∏á‡∏ó‡∏µ fetch ‡πÇ‡∏î‡∏ô‡∏ö‡∏•‡πá‡∏≠‡∏Å ‡πÅ‡∏ï‡πà stream ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ)
      }
    }

    async function togglePlay(){
      const isPlaying = !audio.paused && !audio.ended;

      if(isPlaying){
        audio.pause();
        setBtn(false);
        setPill("‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß");
        return;
      }

      await ensureStream();

      try{
        if(!audio.src && streamUrl) audio.src = streamUrl;
        await audio.play();
        setBtn(true);
        setPill("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏î");
      }catch(err){
        // ‡∏ö‡∏≤‡∏á‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° (‡πÄ‡∏£‡∏≤‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß) ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á fail ‡∏Å‡πá‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ fallback
        console.warn(err);
        setBtn(false);
        setPill("‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ô‡∏µ‡πâ‚Äî‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ Player ‡∏™‡∏≥‡∏£‡∏≠‡∏á");
        fallbackWrap.style.display = "block";
      }
    }

    playBtn.addEventListener("click", togglePlay);

    audio.addEventListener("playing", () => setBtn(true));
    audio.addEventListener("pause", () => setBtn(false));
    audio.addEventListener("error", () => {
      setBtn(false);
      setPill("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏™‡∏ï‡∏£‡∏µ‡∏°‚Äî‡πÉ‡∏ä‡πâ Player ‡∏™‡∏≥‡∏£‡∏≠‡∏á");
      fallbackWrap.style.display = "block";
    });

    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏ï‡∏£‡∏µ‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏¢‡∏∞ (‡πÑ‡∏°‡πà‡πÑ‡∏õ‡∏¢‡∏∏‡πà‡∏á‡∏Å‡∏±‡∏ö song.js ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)
    (async function boot(){
      setBtn(false);
      await ensureStream();
      // ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä stream_host ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
      setInterval(() => {
        fetchStatus().catch(()=>{});
      }, 60_000);
    })();
  </script>
</body>
</html>
